# 布局结构说明

## 一条笔记的完整布局结构

```
┌─────────────────────────────────┐
│ 2024年01月15日，星期一，14:30    │ ← 笔记时间
│ 原始笔记内容...                  │ ← 笔记内容
│                                 │
│ [时间区间]                       │ ← 时间区间信息（如果有）
│ [标签1] [标签2]                  │ ← 标签信息（如果有）
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 💬 追加内容 (3条)  展开  添加追加 │ ← 这就是"标题行"（headerLayout）
│ │ ───────────────────────────│ │
│ │ 25/11/30 15:20 @1 追加内容1... │ │
│ │ 25/11/30 16:30 @2 追加内容2... │ │
│ │ 25/11/30 15:25 @3 追加@1 内容3 │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

## 详细说明

### 1. 笔记主体
- 时间戳
- 笔记内容

### 2. 额外信息区域（extrasContainer）
- 时间区间信息
- 标签信息
- **追加内容区域**（commentsContainer，浅灰色背景）

### 3. 追加内容区域（commentsContainer）
这是整个追加内容的容器，包含：

#### 3.1 标题行（headerLayout）
这是追加内容区域的**第一行**，包含：
- "💬 追加内容 (N条)" 文本
- "展开/折叠" 按钮（如果超过3条）
- "添加追加" 按钮

**注意**：标题行在追加内容区域的**顶部**，不是在笔记的最下面！

#### 3.2 评论列表
- 评论内容1
- 评论内容2
- ...

## 代码对应关系

```java
// 整个笔记的额外信息容器
extrasContainer (LinearLayout, VERTICAL)
├── 时间区间信息
├── 标签信息
└── commentsContainer (追加内容区域，浅灰色背景)
    ├── headerLayout (标题行，HORIZONTAL) ← 这就是"标题行"
    │   ├── "💬 追加内容 (N条)"
    │   ├── "展开/折叠" 按钮（可选）
    │   └── "添加追加" 按钮
    └── 评论列表（如果有评论）
```

## 关键理解

1. **"标题行"** 指的是追加内容区域的顶部那一行
2. **不是**整个笔记的标题
3. **不是**笔记的最下面
4. 标题行在追加内容区域的**最上面**

## 实际显示位置

```
笔记内容
↓
时间区间、标签
↓
┌─────────────────────────┐
│ 💬 追加内容 (3条)  展开  添加追加 │ ← 标题行（在这里！）
├─────────────────────────┤
│ 评论1                    │
│ 评论2                    │
│ 评论3                    │
└─────────────────────────┘
```

所以"折叠按钮"是在追加内容区域的**顶部**（标题行），不是在笔记的最下面。

